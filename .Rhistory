print(is.factor(sex))
sex = factor(c('f', 'm', 'f', 'f', 'm'), levels = c('f', 'm'), lables=c('female', 'male'),orederd=TRUE)
sex = factor(c('f', 'm', 'f', 'f', 'm'), levels = c('f', 'm'), labels=c('female', 'male'),orederd=TRUE)
sex = factor(c('f', 'm', 'f', 'f', 'm'), levels = c('f', 'm'), labels=c('female', 'male'),orderd=TRUE)
sex = factor(c('f', 'm', 'f', 'f', 'm'), levels = c('f', 'm'), labels=c('female', 'male'),ordered=TRUE)
print(sex)
v <- gl(3,4,labels = c("Google", "Runoob", "Taobao"))
print(v)
table = data.frame(
姓名 = c("张三","李四"),
工号 = c("001", "002"),
月薪 = c(1000, 2000)
)
print(table)
str(table)
print(summary(table))
result <- data.frame(table$姓名, table$月薪)
print(result)
result <- table[1:2,]
print(result)
table = data.frame(
姓名 = c("张三", "李四","王五"),
工号 = c("001","002","003"),
月薪 = c(1000, 2000,3000)
)
result <- table[c(2,3),c(1,2)]
print(result)
table$部门 <- c("运营", "技术", "编辑")
print(table)
sites <- c("Google","Runoob","Taobao")
likes <- c(222,111,123)
url <- c("www.google.com","www.runoob.com","www.taobao.com")
addresses <- cbind(sites, likes, url)
print(addresses)
table = data.frame(
姓名 = c("张三", "李四","王五"),
工号 = c("001","002","003"),
月薪 = c(1000, 2000,3000)
)
newtable = data.frame(
姓名 = c("小明", "小白"),
工号 = c("101","102"),
月薪 = c(5000, 7000)
)
result <- rbind(table, newtable)
print(result)
data <- read.csv("2-4.csv", encoding = "UTF-8")
data <- read.csv("ch2-4.csv", encoding = "UTF-8")
print(data)
names(data)[1] <- "t"
names(data)
print("提取2000年数据")
retval <- subset(data, t == 2000)
print(retval)
print("提取税收x2数据")
retval <- data$x2
print(retval)
print("提取2001至2008年x4数据")
retval <- subset(data$x4, t >= 2001 & t <= 2008)
retval <- subset(data, t >= 2001 & t <= 2008)
print(retval)
retval2 <- retval$x4
print(retval2)
print("(1)读入数据")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
print(data)
print(data)
print("(2)对年龄、月收入、月支出排序")
print("对年龄排序")
data[ order(data$年龄), ]
data[ order(data$月收入), ]
print("对月收入排序")
print("对月支出排序")
data[ order(data$月支出), ]
print("(3)筛选不同性别或不同受教育程度的人的观点")
print("筛选不同性别的人的观点")
retval <- subset(data, 性别 == "女")
print(retval)
result <- retval.frame(table$性别, table$观点)
result <- data.frame(table$性别, table$观点)
retval <- subset(data, 性别 == "男")
print(retval)
print("筛选不同受教育程度的观点")
retval <- subset(data, 受教育程度 == "低")
print(retval)
retval <- subset(data, 受教育程度 == "中")
print(retval)
retval <- subset(data, 受教育程度 == "高")
print(retval)
print("筛选 C地区、女性、受教育程度为中、观点为不支持的人")
retval <- subset(data, 地区 == "C" & 性别 == "女" & 受教育程度 == "中" & 观点 == "不支持")
print(retval)
print("(5) 对年龄、月收入、月支出进行分组")
data$age = cut(data$年龄, breaks(min(data$年龄), 40, max(data$年龄)))
data$age = cut(data$年龄, breaks = (min(data$年龄), 40, max(data$年龄)))
data$age = cut(data$年龄, breaks = c(min(data$年龄), 40, max(data$年龄)))
head(data)
print(data)
print("对年龄分组")
print("对月收入分组")
data$income = cut(data$月收入, breaks = c(0, 1000, 2000, max(data$月收入)))
data$income = cut(data$月收入, breaks = c(0, 1000, 2000, 5000))
head(data)
print("对月支出进行分组")
data$outcome = cut(data$月支出, breaks = c(0, 1500, 3000))
data$outcome = cut(data$月支出, breaks = c(0, 1500, 3000))
head(data)
print("(6) 删除观点中的缺失值")
is.na(head(data.NA$观点))
print(data)
is.na(head(data$观点))
data_na = na.omit(data)
print(data_na)
temp <- data[ order(data$年龄), ]
print(temp)
head(temp)
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
t1 = table(data$性别)
t1
t1[1]
gender = c(12, 12)
barplot(gender, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"))
print("对于性别的频数表")
Ftab(data$性别)
ftable(data$性别)
library()
install.packages("dstatR", repos = "https://mirrors.ustc.edu.cn/CRAN/")
Sys.which("make")
Sys.which("make")
install.packages("jsonlite", type = "source")
install.packages("dstatR", repos = "https://mirrors.ustc.edu.cn/CRAN/")
source("dstatR2func.R")
Ftab(data$性别)
print(data)
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
Ftab(data$性别)
Ftab(data$数学)
Ftab(data$统计学)
t1 = table(data$性别)
t1
barplot(t1, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"))
library(showtext)
install.packages("showtext", repos = "https://mirrors.ustc.edu.cn/CRAN/")
library(showtext)
font_add("SyHei", "SourceHanSansSC-Bold.otf")
png(file = "gender-ratio.png")
showtext_begin();
barplot(t1, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"), family='SyHei')
showtext_end()
q()
source("dstatR2func.R")
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
t1 = table(data$性别)
t1
library(showtext)
font_add("SyHei", "SourceHanSansSC-Bold.otf")
showtext_begin()
png(file = "runoob-bar-cn.png")
showtext_begin()
barplot(t1, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"), family='SyHei')
showtext_end()
source("dstatR2func.R")
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
#(1)
t1 = table(data$性别)
t1
font_add("SyHei", "SourceHanSansSC-Bold.otf")
library(showtext)
font_add("SyHei", "SourceHanSansSC-Bold.otf")
barplot(t1, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"), family='SyHei')
q()
source("dstatR2func.R")
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
#(1)
t1 = table(data$性别)
t1
library(showtext)
font_add("SyHei", "SourceHanSansSC-Bold.otf")
png(file = "gender-ratio.png")
showtext_begin()
barplot(t1, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"), family='SyHei')
showtext_end()
q()
source("dstatR2func.R")
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
#(1)
t1 = table(data$性别)
t1
png(file = "gender-ratio.png")
barplot(t1, col = c("#FF0000", "#00FF00"), names.arg = c("女", "男"))
q()
source("dstatR2func.R")
data <- read.csv("ch2-3.csv", encoding = "UTF-8")
print(data)
Ftab(data$性别)
a <- Ftab(data$性别)
print(a)
barplot(a)
a <- Ftab(data$性别)
info = c(3,4,1,1,3,4,3,3,1,3,2,1,2,1,3,4,1,1,3,4,3,3,1,3,2,1,2,1,2,3,2,3,1,1,1,1,4,3,1,2,3,2,3,1,1,1,1,4,3,1)
prop.table(info)
tsr=table(info)
tsr
prop.table(tsr)
names = c("红酒", "白酒", "黄酒", "啤酒")
tsr[1]
cols = c("#FF0000", "#00FF00", "#0000FF", "#FFFF00")
png(file='wine-pie.png', height=300, width=300)
pie(tsr, labels=names, col=cols)
q()
info = c(3,4,1,1,3,4,3,3,1,3,2,1,2,1,3,4,1,1,3,4,3,3,1,3,2,1,2,1,2,3,2,3,1,1,1,1,4,3,1,2,3,2,3,1,1,1,1,4,3,1)
tsr=table(info)
tsr
print("频数表")
table(info)
sum(tsr)
print("饮酒人数")
source("dstatR2func.R")
Ftab(info)
a <- Ftab(info)
print(a)
Freq(info)
data <- read.csv("ch2-2.csv", encoding = "UTF-8")
data <- c(2050,2100,2200,2300,2350,2450,2500,2700,2900,2850,3500,3800,2600,3000,3300,3200,4000,3100,4200,3500)
table(data)
Ftab(data)
source("dstatR2func.R")
Ftab(data)
print("均值")
mean(data)
print("中位数")
median(data)
var(data)
sd(data)
x <- (1:20)
png(file = "plot4-3.png")
plot(x, data, "1")
plot(x, data, "p")
data <- c(2050,2100,2200,2300,2350,2450,2500,2700,2900,2850,3500,3800,2600,3000,3300,3200,4000,3100,4200,3500)
#(1)
print("均值")
mean(data)
print("中位数")
median(data)
print("方差")
var(data)
print("标准差")
sd(data)
#(2)
print("散点图")
x <- (1:20)
png(file = "plot4-3.png")
plot(x, data, "o")
data <- c(2050,2100,2200,2300,2350,2450,2500,2700,2900,2850,3500,3800,2600,3000,3300,3200,4000,3100,4200,3500)
#(1)
print("均值")
mean(data)
print("中位数")
median(data)
print("方差")
var(data)
print("标准差")
sd(data)
#(2)
print("散点图")
x <- (1:20)
png(file = "plot4-3.png")
plot(x, data, "p")
# 第四章第三题
data <- c(2050,2100,2200,2300,2350,2450,2500,2700,2900,2850,3500,3800,2600,3000,3300,3200,4000,3100,4200,3500)
#(1)
print("均值")
mean(data)
print("中位数")
median(data)
print("方差")
var(data)
print("标准差")
sd(data)
plot(data)
hist(data)
png(file = "hist4-3.png")
hist(data)
data <- c(2050,2100,2200,2300,2350,2450,2500,2700,2900,2850,3500,3800,2600,3000,3300,3200,4000,3100,4200,3500)
#(1)
print("均值")
mean(data)
print("中位数")
median(data)
print("方差")
var(data)
print("标准差")
sd(data)
source("dstatR2func.R")
Freq(data)
png(file = "freq4-3.png")
Freq(data)
data <- c(11,19,14,22,14,28,13,81,12,43,11,16,31,16,23,42,22,26,17,22,13,27,108,16,43,82,14,11,51,76,28,66,29,14,14,65,37,16,37,35,39,27,14,17,13,38,28,40,85,32,25,26,16,120,54,50,18,27,16,14,33,29,77,50,19,34)
table(data)
source("dstatR2func.R")
Ftab(data)
print("(1) 绘图分析")
print("(2) 分析数据的集中趋势和离散程度、")
print("(2) 分析数据的集中趋势和离散程度")
print("均值")
mean(data)
median(data)
var(data)
sd(data)
png(file = "plot4-4.png")
plot(data)
png(file = "hist4-4.png")
hist(data)
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
print("(1) 生成地区、性别、受教育程度、观点的频数表和图")
source("dstatR2func.R")
Ftab(data$地区)
Ftab(data$性别)
Ftab(data$受教育程度)
Ftab(data$观点)
location <- Ftab(data$地区)
print(location)
hist(location)
Freq(data$地区)
plot(location)
barplot(location)
png(file = "freq4-5.png")
location <- Ftab(data$地区)
barplot(location)
source("dstatR2func.R")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
gender <- Ftab(data$性别)
png(file = "freq-gen-4-5.png")
barplot(gender)
edu <- Ftab(data$受教育程度)
png(file = "freq-edu-4-5.png")
barplot(edu)
viewpoint <- Ftab(data$观点)
png(file = "freq-view-4-5.png")
barplot(viewpoint)
print("(2) 计算年龄、月收入、月支出基本统计量")
source("dstatR2func.R")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
Stats(data$年龄)
Stats(data$月收入)
Stats(data$月支出)
png(file = "exp-age-4-5.png")
EDA(data$年龄)
# 第四章第五题
source("dstatR2func.R")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
png(file = "exp-age-4-5.png")
EDA(data$年龄)
# 第四章第五题
source("dstatR2func.R")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
png(file = "exp-income-4-5.png")
EDA(data$月收入)
png(file = "exp-outcome-4-5.png")
EDA(data$月支出)
source("dstatR2func.R")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
Freq(data$年龄)
png(file = "freq-age-4-5.png")
Freq(data$年龄)
png(file = "freq-income-4-5.png")
Freq(data$月收入)
png(file = "freq-outcome-4-5.png")
Freq(data$月支出)
# 第四章第五题
source("dstatR2func.R")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
tsr = table(data$受教育程度, data$月收入)
tsr
prop.table(tsr)
tsr = table(data$性别, data$地区)
tsr
n=20
p=0/5
p=0.5
x=1:5
P=dbinom(x,n,p)
plot(x,P,'h')
N=10
M=2
n=4
x=1:2
P = choose(M,x) * choose(N-M, n-x) / choose(N, n)
plot(x,P,'h')
x=0:2
P = choose(M,x) * choose(N-M, n-x) / choose(N, n)
plot(x,P,'h')
N=10
M=4
M=2
n=4
x=0:2
p = choose(M, x) * choose(N - M, n - x) / choose(N, n)
print(p)
m=0:4
P = choose(4, m) * 0.2^m * 0.8^(4-m)
print(P)
a = c(13.35,13.38,13.40,13.43,13.32,13.48,13.34,13.47,13.44,13.50)
u = mean(a)
print(u)
sigma = sd(a)
print(sigma)
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
a <- data$月收入
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
print(data)
sel = sample(data$月收入, 100)
print(sel)
print(mean(sel))
print(var(sel))
print("均值：" + mean(sel))
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
print("(1)随机抽取 100 个")
sel = sample(data$月收入, 100)
print(sel)
print("均值")
print(mean(sel))
print("方差")
print(var(sel))
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
x = data$月收入
sim.clt<-function(n){
for (i in 1:1000) {
k = sample(x,n,rep=F)
}
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
income = data$月收入
sim.clt<-function(n){
for(i in 1:1000){
k = sample(income, n, rep=F)
x += k
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
> head(data)
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
sim.clt<-function(n){
for(i in 1:1000){
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
income = data$月收入
sim.clt<-function(n){
fot(i in 1:1000){
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
income = data$月收入
sim.clt<-function(n){
for(i in 1:1000){
k = sample(income, n, rep=F)
x = x + k
}
x = x / 1000
hist(x, prob=T, breaks=0, main = paste("样本容量=", n), xlab="月收入样本均值")
}
sim.clt(5)
x=0
sim.clt(5)
View(sim.clt)
View(sim.clt)
View(sim.clt)
sim.clt<-function(n){
for(i in 1:1000){
k = sample(income, n, rep=F)
x = x + k
}
x = x / 1000
hist(x, prob=T, main = paste("样本容量), xlab="月收入样本均值")
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
y=data$月收入
sim.clt<-function(n){
for(i in 1:1000){
k = sample(y,n,rep=F)
x=k+x
}
x = x/1000
hist(x,prob=T,breaks=0,main=paste("样本容量=",n), xlab="月收入样本均值")
}
x=0
sim.clt(100)
data <- read.csv("ch3-3.csv", encoding = "UTF-8")
head(data)
source("func.R")
source("funt.R")
source("funt.R")
View(sim.clt)
sim.clt(100)
y=data$月收入
sim.clt(100)
sim.clt(5)
sim.clt(200)
